### 帧格式

     +-----------------------------------------------+
     |                 Length (16)                   |
     +---------------+---------------+---------------+
     |   Type (8)    |   Flags (8)   |
     +-+-------------+---------------+-------------------------------+
     |                Stream Identifier (32)                      |
     +=+=============================================================+
     |                   Frame Payload (0...)                      ...
     +---------------------------------------------------------------+
    
### 帧首部

- 长度（Lenght） 帧载荷长度，以无符号16位整数标识，必须发送不大于2^16的值，不包括帧首部。
- 类型（Type)   8位的帧类型，帧类型决定帧的格式和语义。应用会忽略和遗弃未知帧类型
- 标记（Flags)  一个特定于帧类型的8位boolean标记保留字段。标记的语义特定于指示的帧类型。
- 流标识符(Stream Identifier)：流标识符被表示为一个31位无符号整型值。      保留0x0值，用于那些与整个连接关联的帧，而不是一个独立的流。

### INIT 帧 (0x1)

     +--------------------------------+
     | MAVER(8) | MIVER(8)  | ERR(8)  |
     +----------------------+----------------------------+
     | ULEN(8)  | UNAME(1-255) | PLEN(8) | PASSWD(1-255) |
     +---------------------------------------------------+
INIT 帧在客户端与服务端连接建立后，由客户端发出的第一个数据帧

- MAVER 主版本号
- MIVER 次版本号
- ERR 错误编码 0-成功 0x1-版本不兼容 0x2 用户不存在 0x3 密码错误
- ULEN 用户名长度
- UNAME 用户名
- PLEN 密码长度
- PASSWD 密码

注意： 帧首部 Flag 为0x1表示ACK

### REGISTER 帧 (0x2)

     +----------------------------+
     | TYPE(8) | PNUM(8) | ERR(8) |
     +-----------------------------------------+
     | LPORT(16) | RPORT（16） |   ...         |
     +-----------------------------------------+
    
REGISTER 帧用于客户端向服务端注册监听端口

- TYPE 端口类型 0x1 UDP 0x2 TCP
- PNUM 端口对数量（0-255）
- ERR 错误编码 0x0-成功 0x1-不被允许 0x2-端口已占用 0x3-注册失败
- LPORT 本地端口 
- RPORT 远程端口

注意： 帧首部 Flag 为0x1表示ACK,PNUM 一个字节，一个客户端最多注册255端口

### OPEN_STREAM 帧 (0x3)

     +----------------------+
     | PTYPE(8)| RPORT(16)  |
     +--------------------------------+
     |    STREAM_IDENTIFIER(32)       |
     +--------------------------------+
    
在TCP通道中新建一个STREAM

- PTYPE 0x1 UDP 0x2 TCP
- PPORT 目标端口号
- STREAM_IDENTIFIER 流标识

注意：流标识必须唯一，如果新建一个存在的流，会导致原来的流关闭

### RST_STREAM 帧 (0x4)

    +----------------+
    |  CODE(8)       |
    +----------------+

关闭一个数据流

- CODE 关闭标识
- 0x0 正常关闭
- 0x1 目标端口建立连接失败
- 0x2 流标识重叠

注意 ： RST_STREAM流标识为0，表示关闭所有流（当且仅当流标识资源用尽时）
        流被关闭后其后续数据被遗弃
### DATA 帧 (0x5)
    
    +-------------+
    |   DATA(*)   |
    +-------------+

- DATA 传输的数据